{"version":3,"sources":["containers/users/user/views/detailView/medications/listSection.js","containers/users/user/views/detailView/medications/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["DefaultMedicationItem","props","className","MedicationItem","to","medication","appointmentId","name","dosage","ListSection","medications","length","map","index","handleDelete","deleteMedication","MedicationSection","useState","limit","state","setState","a","url","user","username","searchParams","URLSearchParams","append","Math","ceil","fetch","toString","headers","session","authToken","response","json","newMedications","ok","Error","message","prevState","updatedMedications","console","error","title","callback","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError"],"mappings":"sPAMA,SAASA,EAAsBC,GAC3B,OACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAKC,UAAU,oCAAf,2CAQpB,SAASC,EAAeF,GACpB,OACI,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAKC,UAAU,iCAAf,SACI,cAAC,IAAD,CAAME,GAAE,wBAAmBH,EAAMI,WAAWC,eAA5C,SACKL,EAAMI,WAAWE,WAI9B,cAAC,IAAD,UACI,cAAC,IAAD,CAAKL,UAAU,sCAAf,mBACQD,EAAMI,WAAWG,OADzB,gBAUL,SAASC,EAAYR,GAChC,OACI,cAAC,IAAD,UACmC,IAA7BA,EAAMS,YAAYC,OAChB,mCACKV,EAAMS,YAAYE,KAAI,SAACP,EAAYQ,GAAb,OACnB,cAACV,EAAD,CAEIE,WAAYA,EACZS,aAAcb,EAAMc,kBAFfF,QAMjB,cAACb,EAAD,MC/CD,SAASgB,EAAkBf,GACtC,MAA0BgB,mBAAS,CAC/BP,YAAa,GACbQ,MAAO,KAFX,mBAAOC,EAAP,KAAcC,EAAd,KAD6C,4CAM7C,kCAAAC,EAAA,sEAEcC,EAFd,qBAEkCrB,EAAMsB,KAAKC,SAF7C,iBAIcC,EAAe,IAAIC,iBACZC,OAAO,OAAQC,KAAKC,KAAKV,EAAMT,YAAYC,OAASQ,EAAMD,QACvEO,EAAaE,OAAO,QAASR,EAAMD,OAN3C,SAQ+BY,MAAM,GAAD,OAAIR,EAAJ,YAAWG,EAAaM,YAAc,CAC9DC,QAAS,CACL,cAAgB,UAAhB,OAA2B/B,EAAMgC,QAAQC,cAVzD,cAQcC,EARd,iBAcmCA,EAASC,OAd5C,WAcYC,EAdZ,OAeaF,EAASG,GAftB,uBAgBkB,IAAIC,MAAMF,EAAeG,SAhB3C,QAmBQpB,GAAS,SAAAqB,GACL,IAAMC,EAAkB,sBAAOD,EAAU/B,aAAjB,YAAiC2B,IAEzD,OAAO,2BACAI,GADP,IAEI/B,YAAagC,OAxB7B,kDA4BQC,QAAQC,MAAR,oDA5BR,2DAN6C,sBAsC7C,OACI,qCACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAUC,MAAM,gBAChB,cAACpC,EAAD,CACIC,YAAaS,EAAMT,iBAG3B,cAAC,IAAD,CAAYoC,SA9CyB,kD,0FCHlC,SAASC,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE","file":"static/js/22.97147a5c.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Col, FluidContainer, Row } from '../../../../../../components/layout';\nimport { WidgetList, WidgetListItem } from '../../../../../../components/widgets';\n\n\nfunction DefaultMedicationItem(props) {\n    return (\n        <WidgetListItem>\n            <FluidContainer>\n                <Row>\n                    <Col className=\"md-font-sm text-center text-muted\">No medication available</Col>\n                </Row>\n            </FluidContainer>\n        </WidgetListItem>\n    );\n}\n\n\nfunction MedicationItem(props) {\n    return (\n        <WidgetListItem>\n            <FluidContainer>\n                <Row>\n                    <Col className=\"text-truncate font-weight-bold\">\n                        <Link to={`/appointments/${props.medication.appointmentId}`}>\n                            {props.medication.name}\n                        </Link>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col className=\"md-font-sm text-muted text-truncate\">\n                        {`${props.medication.dosage} mg`}\n                    </Col>\n                </Row>\n            </FluidContainer>\n        </WidgetListItem>\n    );\n}\n\n\nexport default function ListSection(props) {\n    return (\n        <WidgetList>\n            {(props.medications.length !== 0) ?\n                <>\n                    {props.medications.map((medication, index) => (\n                        <MedicationItem \n                            key={index}\n                            medication={medication}\n                            handleDelete={props.deleteMedication}\n                        />\n                    ))}\n                </> :\n                <DefaultMedicationItem />\n            }\n        </WidgetList>\n    );\n}","import React, { useState } from 'react';\nimport { AutoLoader } from '../../../../../../components/loaders';\nimport { TitleBar, Widget } from '../../../../../../components/widgets';\n\nimport ListSection from './listSection';\n\n\nexport default function MedicationSection(props) {\n    const [state, setState] = useState({\n        medications: [],\n        limit: 10\n    });\n\n    async function appendMedications() {\n        try {\n            const url = `/api/users/${props.user.username}/medications`;\n\n            const searchParams = new URLSearchParams();\n            searchParams.append('page', Math.ceil(state.medications.length / state.limit));\n            searchParams.append('limit', state.limit);\n\n            const response = await fetch(`${url}?${searchParams.toString()}`, {\n                headers: {\n                    'Authorization': `Bearer ${props.session.authToken}`\n                }\n            });\n\n            let newMedications = await response.json();\n            if (!response.ok) {\n                throw new Error(newMedications.message);\n            }\n\n            setState(prevState => {\n                const updatedMedications = [...prevState.medications, ...newMedications];\n\n                return {\n                    ...prevState,\n                    medications: updatedMedications\n                }\n            })\n        } catch (err) {\n            console.error(`Failed to append more medications. ${err}`);\n        }\n    }\n\n    return (\n        <>\n            <Widget>\n                <TitleBar title=\"Medications\"></TitleBar>\n                <ListSection\n                    medications={state.medications}\n                />\n            </Widget>\n            <AutoLoader callback={appendMedications} />\n        </>\n    );\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}