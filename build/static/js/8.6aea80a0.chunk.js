(this.webpackJsonpmedicus=this.webpackJsonpmedicus||[]).push([[8],{130:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var a=n(0),c=n(13),r=n(54),s=n(12),i=n.n(s),l=n(32),o=n(14),u=n(11),d=n(8),j=n(4),b=n(52),p=n(33),m=n(3),h=n(1);function O(e){var t=e.value,n=e.minValue,a=e.maxValue,c=Object(m.b)("progress md-nw-appt-pgbar",e.className),r=0;return t&&a&&(r=t/a*100),Object(h.jsx)("div",{class:c,children:Object(h.jsx)("div",{class:"progress-bar",role:"progressbar",style:{width:"".concat(r,"%")},"aria-valuenow":"".concat(t),"aria-valuemin":"".concat(n),"aria-valuemax":"".concat(a)})})}var f=n(51),x=n(49),v=n(56),g=n(19),y=n(23),N=n(55);function w(e){return Object(h.jsx)(c.e,{children:Object(h.jsxs)(c.g,{children:[Object(h.jsx)(c.a,{className:"col-auto",children:Object(h.jsx)(y.i,{className:"md-pfl-sm",session:e.session,user:e.user})}),Object(h.jsxs)(c.a,{children:[Object(h.jsx)(c.g,{className:"text-truncate",children:Object(h.jsx)(y.d,{user:e.user})}),Object(h.jsx)(c.g,{className:"md-font-sm text-truncate text-muted",children:Object(h.jsx)(y.a,{user:e.user})})]}),e.clickable&&Object(h.jsx)(c.a,{className:"col-auto d-flex align-items-center",children:Object(h.jsx)(N.a,{children:"navigate_next"})})]})})}function k(e){return Object(h.jsx)(c.e,{children:Object(h.jsxs)(c.g,{children:[Object(h.jsxs)(c.a,{children:[Object(h.jsx)(c.g,{className:"text-truncate",children:e.service.name}),Object(h.jsx)(c.g,{className:"md-font-sm text-truncate text-muted",children:Object(h.jsx)(y.b,{value:e.service.rate})})]}),e.clickable&&Object(h.jsx)(c.a,{className:"col-auto d-flex align-items-center",children:Object(h.jsx)(N.a,{children:"navigate_next"})})]})})}function S(e){var t=e.id,n=e.name,c=e.handleClick,r=Object(x.a)(e,["id","name","handleClick"]),s=Object(a.useState)({query:"",physicians:[],limit:25}),j=Object(d.a)(s,2),p=j[0],m=j[1],O=Object(a.useCallback)(function(){var t=Object(o.a)(i.a.mark((function t(n){var a,c,r,s,l,o,u,d,j;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.search,c=void 0===a?"":a,r=n.page,s=void 0===r?0:r,l=n.limit,o=void 0===l?10:l,t.prev=1,"/api/users",(u=new URLSearchParams).append("view","physician"),u.append("search",c),u.append("page",s),u.append("limit",o),t.next=10,fetch("".concat("/api/users","?").concat(u.toString()),{headers:{Authorization:"Bearer ".concat(e.session.authToken)}});case 10:return d=t.sent,t.next=13,d.json();case 13:if(j=t.sent,d.ok){t.next=16;break}throw new Error(j.message);case 16:return t.abrupt("return",j);case 19:throw t.prev=19,t.t0=t.catch(1),t.t0;case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e){return t.apply(this,arguments)}}());function N(){return(N=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O({search:p.query,page:Math.ceil(p.physicians.length/p.limit),limit:p.limit});case 3:t=e.sent,m((function(e){var n=[].concat(Object(f.a)(e.physicians),Object(f.a)(t));return Object(u.a)(Object(u.a)({},e),{},{physicians:n})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to append to physician suggestions. ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(){return(k=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(Object(u.a)(Object(u.a)({},p),{},(n={},Object(l.a)(n,t.target.name,t.target.value),Object(l.a)(n,"physicians",[]),n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O({search:p.query,page:0,limit:p.limit});case 3:t=e.sent,m((function(e){return Object(u.a)(Object(u.a)({},e),{},{physicians:Object(f.a)(t)})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed to load physicians based on search. ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p.query,p.limit]),1!==e.currentStep?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.d,{className:"text-muted",children:"Select a Physician"}),Object(h.jsx)("input",Object(u.a)({id:t,type:"text",className:"form-control",name:"query",value:p.query,onChange:function(e){return k.apply(this,arguments)},placeholder:"Full Name or Username"},r))]}),p.query.length>0&&Object(h.jsxs)(b.c,{children:[Object(h.jsx)(v.a,{className:"md-list",children:p.physicians.map((function(t,a){return Object(h.jsx)(v.b,{name:n,value:Object(y.m)({user:t}),handleClick:c,children:Object(h.jsx)(w,{session:e.session,user:t,clickable:!0})},a)}))}),Object(h.jsx)(g.a,{callback:function(){return N.apply(this,arguments)}})]})]})}function C(e){var t=Object(a.useState)({services:[],limit:25}),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useCallback)(function(){var t=Object(o.a)(i.a.mark((function t(n){var a,c,r,s,l,o,u,d,j,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.physician,c=void 0===a?"":a,r=n.page,s=void 0===r?0:r,l=n.limit,o=void 0===l?10:l,t.prev=1,u="/api/users/".concat(c,"/services"),(d=new URLSearchParams).append("page",s),d.append("limit",o),t.next=8,fetch("".concat(u,"?").concat(d.toString()),{headers:{Authorization:"Bearer ".concat(e.session.authToken)}});case 8:return j=t.sent,t.next=11,j.json();case 11:if(b=t.sent,j.ok){t.next=14;break}throw new Error(b.message);case 14:return t.abrupt("return",b);case 17:throw t.prev=17,t.t0=t.catch(1),t.t0;case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}());function l(){return(l=Object(o.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s({physician:e.physician,page:Math.ceil(c.services.length/c.limit),limit:c.limit});case 3:n=t.sent,r((function(e){var t=[].concat(Object(f.a)(e.services),Object(f.a)(n));return Object(u.a)(Object(u.a)({},e),{},{physicians:t})})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Failed to append more services. ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s({physician:e.physician,page:0,limit:c.limit});case 3:n=t.sent,r((function(e){return Object(u.a)(Object(u.a)({},e),{},{services:Object(f.a)(n)})})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Failed to load services for selected physician. ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}e.physician&&function(){t.apply(this,arguments)}()}),[e.physician,c.limit]),2!==e.currentStep?null:Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.d,{className:"text-muted",children:"Choose a Service"}),0===c.services.length?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(g.b,{isLoading:!0})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(v.a,{className:"md-list",children:c.services.map((function(t,n){return Object(h.jsx)(v.b,{name:e.name,value:t.id,handleClick:e.handleClick,children:Object(h.jsx)(k,{session:e.session,service:t,clickable:!0})},n)}))}),Object(h.jsx)(g.a,{callback:function(){return l.apply(this,arguments)}})]})]})}function T(e){if(3!==e.currentStep)return null;new Date;return Object(h.jsxs)(h.Fragment,{children:[e.errorMessage&&Object(h.jsx)(b.f,{className:"justify-content-center",children:Object(h.jsx)("div",{className:"alert alert-danger",role:"alert",children:e.errorMessage})}),Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.d,{for:"newApptInput3",className:"text-muted",children:"Add a new Title"}),Object(h.jsx)("input",{id:"newApptInput3",type:"text",name:"title",className:"form-control",placeholder:"New Title",value:e.title,onChange:e.handleChange,"aria-describedby":"titleHelpBlock","aria-label":"Title",maxlength:"75",required:!0}),Object(h.jsx)("small",{id:"titleHelpBlock",className:"form-text text-muted help-text",children:"Your title must not exceed a maximum of 75 characters."})]}),Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.d,{for:"newApptInput4",className:"text-muted",children:"Start time"}),Object(h.jsxs)(b.f,{children:[Object(h.jsx)(b.c,{className:"col-6",children:Object(h.jsx)(p.a,{id:"newApptInput4",className:"form-control",name:"startDate",label:"Start Date",value:e.startDate,handleChange:e.handleChange,required:!0})}),Object(h.jsx)(b.c,{className:"col-6",children:Object(h.jsx)(p.i,{id:"newApptInput5",className:"form-control",name:"startTime",label:"Start Time",value:e.startTime,handleChange:e.handleChange,required:!0})})]})]}),Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.d,{for:"newApptInput4",className:"text-muted",children:"End time"}),Object(h.jsxs)(b.f,{children:[Object(h.jsx)(b.c,{className:"col-6",children:Object(h.jsx)(p.a,{id:"newApptInput6",className:"form-control",name:"endDate",label:"End Date",value:e.endDate,handleChange:e.handleChange,required:!0})}),Object(h.jsx)(b.c,{className:"col-6",children:Object(h.jsx)(p.i,{id:"newApptInput7",className:"form-control",name:"endTime",label:"End Time",value:e.endTime,handleChange:e.handleChange,required:!0})})]})]}),Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.d,{for:"newApptInput8",className:"text-muted",children:"Description"}),Object(h.jsx)("textarea",{id:"newApptInput11",type:"text",name:"description",className:"form-control",placeholder:"Add a description",value:e.description,onChange:e.handleChange,"aria-describedby":"descriptionHelpBlock","aria-label":"Physician",rows:"3",maxlength:"300",required:!0}),Object(h.jsx)("small",{id:"descriptionHelpBlock",className:"form-text text-muted help-text",children:"Your description must not exceed a maximum of 300 characters."})]}),Object(h.jsx)(b.f,{className:"d-flex justify-content-center m-2",children:Object(h.jsx)(b.g,{children:"Request Appointment"})})]})}function A(e){var t=Object(a.useState)({currentStep:1,navigateToAppointments:!1,errorMessage:"",physician:"",service:"",startDate:"",startTime:"00:00",endDate:"",endTime:"00:00",description:""}),n=Object(d.a)(t,2),c=n[0],r=n[1];function s(e){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(Object(u.a)(Object(u.a)({},c),{},Object(l.a)({},t.currentTarget.name,t.currentTarget.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(o.a)(i.a.mark((function t(n){var a,s,l,o,j,b,m,h,O,f,x,v;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),3!==c.currentStep){t.next=32;break}if(t.prev=2,a=c.startTime.split(":").map((function(e){return parseInt(e)})),s=Object(d.a)(a,2),l=s[0],o=s[1],j=c.endTime.split(":").map((function(e){return parseInt(e)})),b=Object(d.a)(j,2),m=b[0],h=b[1],(O=new Date(c.startDate)).setHours(l),O.setMinutes(o),Object(p.l)(O)){t.next=10;break}throw new Error("Invalid Start time. Must be a valid date.");case 10:if((f=new Date(c.endDate)).setHours(m),f.setMinutes(h),Object(p.l)(f)){t.next=15;break}throw new Error("Invalid End time. Must be a valid date.");case 15:if(!(f<=O)){t.next=17;break}throw new Error("Appointment End time cannot be before its Start time.");case 17:return t.next=19,fetch("/api/appointments",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)},body:JSON.stringify({title:c.title,patient:e.session.username,physician:c.physician,serviceId:c.service,startTime:O,endTime:f,description:c.description})});case 19:return x=t.sent,t.next=22,x.json();case 22:if(v=t.sent,x.ok){t.next=25;break}throw new Error(v.message);case 25:r(Object(u.a)(Object(u.a)({},c),{},{navigateToAppointments:!0})),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(2),console.error("Failed to add a new appointment: ".concat(t.t0.message)),r(Object(u.a)(Object(u.a)({},c),{},{errorMessage:t.t0.message}));case 32:case"end":return t.stop()}}),t,null,[[2,28]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){(c.service||c.physician)&&r((function(e){return Object(u.a)(Object(u.a)({},c),{},{currentStep:e.currentStep+1})}))}),[c.physician,c.service]),!0===c.navigateToAppointments?Object(h.jsx)(j.a,{to:"/appointments"}):Object(h.jsxs)(b.a,{className:"md-nw-appt",handleSubmit:function(e){return f.apply(this,arguments)},children:[Object(h.jsx)(O,{className:"mb-3",value:c.currentStep,minValue:1,maxValue:3}),Object(h.jsx)(S,{currentStep:c.currentStep,id:"newAppt01",session:e.session,name:"physician",handleClick:s,physician:c.physician}),Object(h.jsx)(C,{currentStep:c.currentStep,id:"newAppt02",session:e.session,name:"service",handleClick:s,physician:c.physician}),Object(h.jsx)(T,{currentStep:c.currentStep,session:e.session,handleChange:s,title:c.title,startDate:c.startDate,startTime:c.startTime,endDate:c.endDate,endTime:c.endTime,description:c.description,errorMessage:c.errorMessage})]})}function D(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(r.d,{title:"New Appointment"}),Object(h.jsx)(c.g,{children:Object(h.jsx)(c.a,{children:Object(h.jsx)(A,{session:e.session,physician:e.physician})})})]})}},49:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}n.d(t,"a",(function(){return a}))},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(25);var c=n(20);function r(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d}));n(0);var a=n(3),c=n(1);function r(e){var t=e.enctype?e.enctype:"application/x-www-form-urlencoded";return Object(c.jsx)("form",{method:"post",autoComplete:e.autoComplete,enctype:t,className:Object(a.b)("",e.className),onSubmit:e.handleSubmit,children:e.children})}function s(e){return Object(c.jsx)("div",{className:Object(a.b)("form-row",e.className),children:e.children})}function i(e){return Object(c.jsx)("div",{className:Object(a.b)("form-group",e.className),children:e.children})}function l(e){return Object(c.jsx)("button",{type:e.type?e.type:"button",disabled:e.disabled,className:Object(a.b)("btn",e.className),onClick:e.handleClick,children:e.children})}function o(e){return Object(c.jsx)(l,{type:"submit",disabled:e.disabled,className:Object(a.b)("btn-primary",e.className),children:e.children})}function u(e){return Object(c.jsx)("label",{htmlFor:e.for,className:Object(a.b)("col-form-label",e.className),children:e.children})}function d(e){return Object(c.jsx)("legend",{htmlFor:e.for,className:Object(a.b)("col-form-label",e.className),children:e.children})}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return u}));n(0),n(31);var a=n(3),c=n(1);function r(e){return Object(c.jsx)("div",{className:Object(a.b)("dropdown",e.className),children:e.children})}function s(e){return Object(c.jsx)("button",{type:"button",id:e.id,"data-toggle":"dropdown",className:Object(a.b)("btn",e.className),"aria-haspopup":"true","aria-expanded":"false",children:e.children})}function i(e){return Object(c.jsx)("button",{type:"button",id:e.id,"data-toggle":"dropdown",className:Object(a.b)("btn dropdown-toggle",e.className),"aria-haspopup":"true","aria-expanded":"false",children:e.children})}function l(e){return Object(c.jsx)("div",{"aria-labelledby":e.labelledBy,className:Object(a.b)("dropdown-menu",e.className),children:e.children})}function o(e){return Object(c.jsx)("div",{className:Object(a.b)("dropdown-divider",e.className)})}function u(e){return Object(c.jsx)("button",{type:"button",onClick:e.handleClick,className:Object(a.b)("dropdown-item",e.className),name:e.name,value:e.value,disabled:Boolean(e.disabled),children:e.children})}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return w}));var a=n(12),c=n.n(a),r=n(32),s=n(14),i=n(8),l=n(11),o=n(49),u=n(0),d=n(24),j=n(3),b=n(1);var p=n(53),m=n(52),h=n(55),O=n(57),f=n(23);function x(e){var t=e.className,n=e.icon,a=Object(o.a)(e,["className","icon"]);return Object(b.jsx)(O.m,Object(l.a)(Object(l.a)({className:Object(j.b)("md-btn p-2 mx-1",t)},a),{},{children:Object(b.jsx)(h.a,{className:"d-flex align-items-center",children:n})}))}function v(e){var t=e.title,n=e.icon,a=Object(o.a)(e,["title","icon"]);return Object(b.jsxs)(O.i,Object(l.a)(Object(l.a)({className:"md-mi d-flex align-items-center"},a),{},{children:[Object(b.jsx)(h.a,{children:n}),Object(b.jsx)("p",{className:"my-0 pl-2 text-truncate",children:t})]}))}function g(e){var t=e.className,n=e.title,a=e.icon,c=Object(o.a)(e,["className","title","icon"]);return Object(b.jsxs)(O.k,Object(l.a)(Object(l.a)({},c),{},{className:Object(j.b)("md-btn mx-1 p-2 d-flex align-items-center",t),tooltip:n,role:"button",children:[Object(b.jsx)(h.a,{children:a}),Object(b.jsx)("p",{className:"my-0 pl-2 text-truncate d-md-none",children:n})]}))}function y(e){return Object(b.jsx)(O.l,{children:e.children})}function N(e){var t=Object(u.useState)({query:""}),n=Object(i.a)(t,2),a=n[0],o=n[1];function d(){return(d=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(l.a)(Object(l.a)({},a),{},Object(r.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(s.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault();try{e.handleSearch&&e.handleSearch(a.query)}catch(c){console.error("Failed to handle search query. ".concat(c))}case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsx)(m.a,{handleSubmit:function(e){return p.apply(this,arguments)},className:Object(j.b)("form-inline mx-1 my-2 my-lg-0",e.className),children:Object(b.jsxs)("div",{className:"input-group w-100",children:[Object(b.jsx)("input",{id:"titlebarSearch01",type:"text",className:"form-control",name:"query",placeholder:e.placeholder,value:a.query,onChange:function(e){return d.apply(this,arguments)},"aria-label":"Search Query","aria-describedby":"titlebarSearch02"}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{id:"titlebarSearch02",type:"button",className:"btn btn-sm btn-outline-secondary",children:Object(b.jsx)(h.a,{children:"search"})})})]})})}function w(e){var t=Object(d.c)((function(e){return e.session}));return Object(b.jsxs)(O.b,{className:"navbar-expand-md navbar-light row md-tbar sticky-top justify-content-start",children:[Object(b.jsx)(x,{target:"sideBar01",icon:"menu",toggleType:"modal"}),Object(b.jsx)(O.c,{className:"mr-auto p-1 font-weight-bold",children:e.title}),e.children&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{target:"titleBarNav01",icon:"more_vert"}),Object(b.jsx)(O.d,{id:"titleBarNav01",className:"justify-content-end order-last order-md-4",children:e.children})]}),Object(b.jsxs)(O.a,{className:"order-md-last",asList:!0,children:[Object(b.jsx)(S,{}),Object(b.jsx)(k,{session:t,user:t})]})]})}function k(e){var t=Object(d.b)();function n(){return(n=Object(s.a)(c.a.mark((function n(a){var r,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,n.next=4,fetch("/api/auth/signout",{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)}});case 4:return r=n.sent,n.next=7,r.json();case 7:if(s=n.sent,r.ok){n.next=10;break}throw new Error(s.message);case 10:t({type:"session/reset"}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.error("Failed to sign out. ".concat(n.t0));case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))).apply(this,arguments)}var a=[{path:"/users/".concat(e.user.username),title:"Profile",icon:"person"},{path:"/settings",title:"Settings",icon:"settings"},{title:"Sign Out",icon:"logout",handleClick:function(e){return n.apply(this,arguments)}}];return Object(b.jsxs)(O.e,{children:[Object(b.jsx)(O.f,{className:"px-0 mx-1 d-flex align-items-center",children:Object(b.jsx)(f.i,{className:"md-pfl-xs md-pfl-round",session:e.session,user:e.user})}),Object(b.jsx)(O.g,{className:"dropdown-menu-right",children:a.map((function(e,t){return Object(b.jsx)(v,{path:e.path,exact:e.exact,title:e.title,icon:e.icon,handleClick:e.handleClick},t)}))})]})}function S(e){return Object(b.jsxs)(O.e,{className:"mx-1 my-2",children:[Object(b.jsx)(p.c,{className:"md-btn p-2 d-flex align-items-center",children:Object(b.jsx)(h.a,{children:"notifications"})}),Object(b.jsx)(O.g,{className:"dropdown-menu-right",children:Object(b.jsx)(O.h,{children:"Coming Soon!"})})]})}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(11),c=n(49),r=(n(0),n(31)),s=n(3),i=n(1);function l(e){return Object(i.jsx)("div",{className:Object(s.b)("list-group",e.className),children:e.children})}function o(e){return Object(i.jsx)("div",{className:Object(s.b)("list-group-item",e.className),children:e.children})}function u(e){return Object(i.jsx)(r.b,{to:e.url,className:Object(s.b)("list-group-item list-group-action",e.className),children:e.children})}function d(e){var t=e.className,n=e.handleClick,r=Object(c.a)(e,["className","handleClick"]);return Object(i.jsx)("button",Object(a.a)(Object(a.a)({type:"button",onClick:n},r),{},{className:Object(s.b)("list-group-item list-group-action",t),children:e.children}))}}}]);
//# sourceMappingURL=8.6aea80a0.chunk.js.map