(this.webpackJsonpmedicus=this.webpackJsonpmedicus||[]).push([[0],{49:function(e,t,n){"use strict";function c(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},s=Object.keys(e);for(c=0;c<s.length;c++)n=s[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(c=0;c<s.length;c++)n=s[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return c}))},50:function(e,t,n){"use strict";n.d(t,"m",(function(){return O})),n.d(t,"h",(function(){return x})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return N})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return C})),n.d(t,"i",(function(){return D})),n.d(t,"j",(function(){return B}));var c=n(11),a=n(49),s=n(12),r=n.n(s),i=n(14),l=n(8),o=n(0),d=n(3),u=n(13),j=n(58),b=n(56),p=n(55),m=n(53),h=n(1);function O(e){return Object(h.jsx)(u.g,{className:Object(d.b)("mb-3",e.className),children:e.children})}function x(e){return Object(h.jsx)("div",{class:Object(d.b)("card-columns mb-3",e.className),children:e.children})}function f(e){return Object(h.jsx)(j.b,{className:Object(d.b)("md-widget mb-3",e.className),children:e.children})}function N(e){return Object(h.jsxs)("nav",{className:"card-header navbar md-title px-3 py-1",children:[Object(h.jsx)("h6",{className:"navbar-brand text-muted my-1 py-0",children:e.title}),e.children]})}function g(e){return Object(h.jsx)("ul",{className:Object(d.b)("nav",e.className),children:e.children})}function y(e){return Object(h.jsx)("button",{type:"button","data-toggle":"tooltip",title:e.name,className:"btn btn-sm p-2 d-flex align-items-center",onClick:e.handleClick,children:Object(h.jsx)(p.a,{children:e.icon})})}function v(e){var t=Object(o.useState)(!1),n=Object(l.a)(t,2),c=n[0],a=n[1];function s(){return(s=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!c);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)("button",{type:"button","data-toggle":"collapse","data-target":"#".concat(e.target),class:"btn btn-sm p-2 d-flex align-items-center",onClick:function(e){return s.apply(this,arguments)},"aria-expanded":"false","aria-controls":e.target,children:Object(h.jsx)(p.a,{children:c?e.collapseIcon:e.expandIcon})})}function w(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(h.jsx)(j.c,Object(c.a)(Object(c.a)({className:Object(d.b)("px-3 py-2",t)},n),{},{children:e.children}))}function k(e){var t=e.id,n=e.className,s=Object(a.a)(e,["id","className"]);return Object(h.jsx)(w,Object(c.a)(Object(c.a)({id:t},s),{},{className:Object(d.b)("collapse",n),children:e.children}))}function S(e){return Object(h.jsx)(b.a,{className:"list-group-flush",children:e.children})}function C(e){return Object(h.jsx)(b.c,{className:"py-2 px-0",children:e.children})}function D(e){return Object(h.jsxs)(m.a,{children:[Object(h.jsx)(m.b,{id:e.id,className:"p-2 d-flex align-items-center",children:Object(h.jsx)(p.a,{children:"more_horiz"})}),Object(h.jsx)(m.d,{labelledBy:e.id,className:"dropdown-menu-right",children:e.children})]})}function B(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(h.jsx)(m.e,Object(c.a)(Object(c.a)({className:Object(d.b)("d-flex align-items-center",t)},n),{},{children:e.children}))}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));n(0);var c=n(3),a=n(1);function s(e){var t=e.enctype?e.enctype:"application/x-www-form-urlencoded";return Object(a.jsx)("form",{method:"post",autoComplete:e.autoComplete,enctype:t,className:Object(c.b)("",e.className),onSubmit:e.handleSubmit,children:e.children})}function r(e){return Object(a.jsx)("div",{className:Object(c.b)("form-row",e.className),children:e.children})}function i(e){return Object(a.jsx)("div",{className:Object(c.b)("form-group",e.className),children:e.children})}function l(e){return Object(a.jsx)("button",{type:e.type?e.type:"button",disabled:e.disabled,className:Object(c.b)("btn",e.className),onClick:e.handleClick,children:e.children})}function o(e){return Object(a.jsx)(l,{type:"submit",disabled:e.disabled,className:Object(c.b)("btn-primary",e.className),children:e.children})}function d(e){return Object(a.jsx)("label",{htmlFor:e.for,className:Object(c.b)("col-form-label",e.className),children:e.children})}function u(e){return Object(a.jsx)("legend",{htmlFor:e.for,className:Object(c.b)("col-form-label",e.className),children:e.children})}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return d}));n(0),n(31);var c=n(3),a=n(1);function s(e){return Object(a.jsx)("div",{className:Object(c.b)("dropdown",e.className),children:e.children})}function r(e){return Object(a.jsx)("button",{type:"button",id:e.id,"data-toggle":"dropdown",className:Object(c.b)("btn",e.className),"aria-haspopup":"true","aria-expanded":"false",children:e.children})}function i(e){return Object(a.jsx)("button",{type:"button",id:e.id,"data-toggle":"dropdown",className:Object(c.b)("btn dropdown-toggle",e.className),"aria-haspopup":"true","aria-expanded":"false",children:e.children})}function l(e){return Object(a.jsx)("div",{"aria-labelledby":e.labelledBy,className:Object(c.b)("dropdown-menu",e.className),children:e.children})}function o(e){return Object(a.jsx)("div",{className:Object(c.b)("dropdown-divider",e.className)})}function d(e){return Object(a.jsx)("button",{type:"button",onClick:e.handleClick,className:Object(c.b)("dropdown-item",e.className),name:e.name,value:e.value,disabled:Boolean(e.disabled),children:e.children})}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return w}));var c=n(12),a=n.n(c),s=n(32),r=n(14),i=n(8),l=n(11),o=n(49),d=n(0),u=n(24),j=n(3),b=n(1);var p=n(53),m=n(52),h=n(55),O=n(57),x=n(23);function f(e){var t=e.className,n=e.icon,c=Object(o.a)(e,["className","icon"]);return Object(b.jsx)(O.m,Object(l.a)(Object(l.a)({className:Object(j.b)("md-btn p-2 mx-1",t)},c),{},{children:Object(b.jsx)(h.a,{className:"d-flex align-items-center",children:n})}))}function N(e){var t=e.title,n=e.icon,c=Object(o.a)(e,["title","icon"]);return Object(b.jsxs)(O.i,Object(l.a)(Object(l.a)({className:"md-mi d-flex align-items-center"},c),{},{children:[Object(b.jsx)(h.a,{children:n}),Object(b.jsx)("p",{className:"my-0 pl-2 text-truncate",children:t})]}))}function g(e){var t=e.className,n=e.title,c=e.icon,a=Object(o.a)(e,["className","title","icon"]);return Object(b.jsxs)(O.k,Object(l.a)(Object(l.a)({},a),{},{className:Object(j.b)("md-btn mx-1 p-2 d-flex align-items-center",t),tooltip:n,role:"button",children:[Object(b.jsx)(h.a,{children:c}),Object(b.jsx)("p",{className:"my-0 pl-2 text-truncate d-md-none",children:n})]}))}function y(e){return Object(b.jsx)(O.l,{children:e.children})}function v(e){var t=Object(d.useState)({query:""}),n=Object(i.a)(t,2),c=n[0],o=n[1];function u(){return(u=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(l.a)(Object(l.a)({},c),{},Object(s.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault();try{e.handleSearch&&e.handleSearch(c.query)}catch(a){console.error("Failed to handle search query. ".concat(a))}case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsx)(m.a,{handleSubmit:function(e){return p.apply(this,arguments)},className:Object(j.b)("form-inline mx-1 my-2 my-lg-0",e.className),children:Object(b.jsxs)("div",{className:"input-group w-100",children:[Object(b.jsx)("input",{id:"titlebarSearch01",type:"text",className:"form-control",name:"query",placeholder:e.placeholder,value:c.query,onChange:function(e){return u.apply(this,arguments)},"aria-label":"Search Query","aria-describedby":"titlebarSearch02"}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{id:"titlebarSearch02",type:"button",className:"btn btn-sm btn-outline-secondary",children:Object(b.jsx)(h.a,{children:"search"})})})]})})}function w(e){var t=Object(u.c)((function(e){return e.session}));return Object(b.jsxs)(O.b,{className:"navbar-expand-md navbar-light row md-tbar sticky-top justify-content-start",children:[Object(b.jsx)(f,{target:"sideBar01",icon:"menu",toggleType:"modal"}),Object(b.jsx)(O.c,{className:"mr-auto p-1 font-weight-bold",children:e.title}),e.children&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{target:"titleBarNav01",icon:"more_vert"}),Object(b.jsx)(O.d,{id:"titleBarNav01",className:"justify-content-end order-last order-md-4",children:e.children})]}),Object(b.jsxs)(O.a,{className:"order-md-last",asList:!0,children:[Object(b.jsx)(S,{}),Object(b.jsx)(k,{session:t,user:t})]})]})}function k(e){var t=Object(u.b)();function n(){return(n=Object(r.a)(a.a.mark((function n(c){var s,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,n.next=4,fetch("/api/auth/signout",{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)}});case 4:return s=n.sent,n.next=7,s.json();case 7:if(r=n.sent,s.ok){n.next=10;break}throw new Error(r.message);case 10:t({type:"session/reset"}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.error("Failed to sign out. ".concat(n.t0));case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))).apply(this,arguments)}var c=[{path:"/users/".concat(e.user.username),title:"Profile",icon:"person"},{path:"/settings",title:"Settings",icon:"settings"},{title:"Sign Out",icon:"logout",handleClick:function(e){return n.apply(this,arguments)}}];return Object(b.jsxs)(O.e,{children:[Object(b.jsx)(O.f,{className:"px-0 mx-1 d-flex align-items-center",children:Object(b.jsx)(x.i,{className:"md-pfl-xs md-pfl-round",session:e.session,user:e.user})}),Object(b.jsx)(O.g,{className:"dropdown-menu-right",children:c.map((function(e,t){return Object(b.jsx)(N,{path:e.path,exact:e.exact,title:e.title,icon:e.icon,handleClick:e.handleClick},t)}))})]})}function S(e){return Object(b.jsxs)(O.e,{className:"mx-1 my-2",children:[Object(b.jsx)(p.c,{className:"md-btn p-2 d-flex align-items-center",children:Object(b.jsx)(h.a,{children:"notifications"})}),Object(b.jsx)(O.g,{className:"dropdown-menu-right",children:Object(b.jsx)(O.h,{children:"Coming Soon!"})})]})}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u}));var c=n(11),a=n(49),s=(n(0),n(31)),r=n(3),i=n(1);function l(e){return Object(i.jsx)("div",{className:Object(r.b)("list-group",e.className),children:e.children})}function o(e){return Object(i.jsx)("div",{className:Object(r.b)("list-group-item",e.className),children:e.children})}function d(e){return Object(i.jsx)(s.b,{to:e.url,className:Object(r.b)("list-group-item list-group-action",e.className),children:e.children})}function u(e){var t=e.className,n=e.handleClick,s=Object(a.a)(e,["className","handleClick"]);return Object(i.jsx)("button",Object(c.a)(Object(c.a)({type:"button",onClick:n},s),{},{className:Object(r.b)("list-group-item list-group-action",t),children:e.children}))}},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var c=n(11),a=n(49),s=(n(0),n(3)),r=n(1);function i(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(r.jsx)("div",Object(c.a)(Object(c.a)({className:Object(s.b)("card",t)},n),{},{children:e.children}))}function l(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(r.jsx)("div",Object(c.a)(Object(c.a)({className:Object(s.b)("card-header",t)},n),{},{children:e.children}))}function o(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(r.jsx)("div",Object(c.a)(Object(c.a)({className:Object(s.b)("card-body",t)},n),{},{children:e.children}))}function d(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(r.jsx)("div",Object(c.a)(Object(c.a)({className:Object(s.b)("card-footer",t)},n),{},{children:e.children}))}function u(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(r.jsx)("div",Object(c.a)(Object(c.a)({className:Object(s.b)("card card-body",t)},n),{},{children:e.children}))}},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}));n(0);var c=n(31),a=n(3),s=n(57),r=n(1);function i(e){return Object(r.jsx)(c.c,{to:e.path,exact:e.exact,className:Object(a.b)("nav-link md-sbtbar-link mx-1",e.className),children:e.title})}function l(e){return Object(r.jsx)(s.a,{className:"nav-pills p-1 md-sbtbar",children:e.children})}},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var c=n(11),a=n(12),s=n.n(a),r=n(14),i=n(8),l=n(0),o=n(31),d=n(13),u=n(33),j=n(19),b=n(53),p=n(55),m=n(1);function h(e){return e.buttons&&0!==e.buttons.length?Object(m.jsx)(m.Fragment,{children:e.buttons.map((function(e,t){return Object(m.jsx)(b.e,Object(c.a)(Object(c.a)({},e),{},{children:e.title}),t)}))}):null}function O(e){var t=[];return"Accepted"===e.status||"Done"===e.status&&0!==e.paymentBalance?t.push({title:"Delete",icon:"delete_outline",disabled:!0,handleClick:e.handleDelete}):t.push({title:"Delete",icon:"delete_outline",disabled:!1,handleClick:e.handleDelete}),Object(m.jsx)(h,{buttons:t})}function x(e){var t=[];return"Pending"===e.status&&e.isCurrentUserPhysician?t.push({title:"Accept",icon:"check",value:"Accepted",disabled:!1,handleClick:e.handleStatus},{title:"Reject",icon:"clear",value:"Rejected",disabled:!1,handleClick:e.handleStatus}):"Accepted"===e.status&&t.push({title:"End",icon:"stop",value:"Done",disabled:!1,handleClick:e.handleStatus}),Object(m.jsx)(h,{buttons:t})}function f(e){var t=!1;e.session&&e.appointment&&(t=e.session.username===e.appointment.physician.username);return Object(m.jsxs)(b.a,{className:"md-mgbar",children:[Object(m.jsx)(b.b,{id:"manageApptBar01",className:"md-toggle p-2 d-flex align-items-center",children:Object(m.jsx)(p.a,{children:"more_horiz"})}),Object(m.jsxs)(b.d,{labelledBy:"manageApptBar01",className:"dropdown-menu-right",children:[Object(m.jsx)(x,{status:e.appointment.status,isCurrentUserPhysician:t,handleStatus:e.handleStatus}),Object(m.jsx)(b.f,{}),Object(m.jsx)(O,{status:e.appointment.status,paymentBalance:e.appointment.paymentBalance,handleDelete:e.handleDelete})]})]})}var N=n(23);function g(e){var t;switch(e.status){case"Accepted":t="st-accept";break;case"Rejected":t="st-reject";break;case"Done":t="st-done";break;default:t="st-pending"}return Object(m.jsx)(d.e,{className:"h-100 md-appt-st md-ind ".concat(t," p-1")})}function y(e){var t;switch(e.status){case"Accepted":t="st-accept";break;case"Rejected":t="st-reject";break;case"Done":t="st-done";break;default:t="st-pending"}return Object(m.jsx)("span",{className:"badge badge-pill border md-font-sm md-appt-st md-badge ".concat(t),children:e.status})}function v(e){var t=Object(N.d)({user:e.session}),n=Object(N.d)({user:e.appointment.patient}),c=Object(N.d)({user:e.appointment.physician});return t===n?c:n}function w(e){return e.appointment?e.appointment.title:""}function k(e){if(e.isLoading)return Object(m.jsx)(j.b,{isLoading:e.isLoading});var t=new Date(e.appointment.startTime),n=new Date(e.appointment.endTime);return Object(m.jsx)(d.e,{className:"md-appt",children:Object(m.jsxs)(d.g,{children:[Object(m.jsx)(d.a,{className:"col-auto px-0 d-xl-none",children:Object(m.jsx)(g,{status:e.appointment.status})}),Object(m.jsx)(d.a,{className:"py-3",children:Object(m.jsxs)(d.g,{children:[Object(m.jsx)(d.a,{className:"col-3 col-sm-3 col-md-5 col-lg-5 col-xl-3",children:Object(m.jsxs)(d.g,{children:[Object(m.jsxs)(d.a,{className:"p-0 align-self-center",children:[Object(m.jsx)("h6",{className:"text-center my-0",children:Object(m.jsx)(u.c,{date:t,hour12:!0})}),Object(m.jsx)("p",{className:"md-font-sm text-center text-muted my-0",children:Object(m.jsx)(u.g,{date:t})})]}),Object(m.jsxs)(d.a,{className:"p-0 d-none d-md-inline align-self-center",children:[Object(m.jsx)("h6",{className:"text-center my-0",children:Object(m.jsx)(u.c,{date:n,hour12:!0})}),Object(m.jsx)("p",{className:"md-font-sm text-center text-muted my-0",children:Object(m.jsx)(u.g,{date:n})})]})]})}),Object(m.jsxs)(d.a,{className:"col-9 col-sm-9 col-md-7 col-lg-7 col-xl-7",children:[Object(m.jsx)("h6",{className:"my-0",children:Object(m.jsx)(o.b,{to:"/appointments/".concat(e.appointment.id),className:"text-truncate font-weight-bold",children:Object(m.jsx)(v,{session:e.session,appointment:e.appointment})})}),Object(m.jsx)("p",{className:"md-font-sm text-truncate text-muted my-0",children:Object(m.jsx)(w,{appointment:e.appointment})})]}),Object(m.jsx)(d.a,{className:"col-xl-2 d-none d-xl-inline align-self-center",children:Object(m.jsx)(d.g,{className:"justify-content-center",children:Object(m.jsx)(d.a,{className:"col-auto",children:Object(m.jsx)(y,{status:e.appointment.status})})})})]})}),Object(m.jsx)(d.a,{className:"col-auto align-self-center",children:Object(m.jsx)(f,{session:e.session,appointment:e.appointment,handleStatus:e.handleStatus,handleDelete:e.handleDelete})})]})})}var S=n(4),C=n(50),D=n(54),B=n(3),T=n(69),A=n(58);function P(e){return Object(m.jsx)("h5",{className:"card-title my-2",children:e.children})}function z(e){return Object(m.jsx)(d.g,{children:Object(m.jsx)(d.a,{children:Object(m.jsx)("p",{className:Object(B.b)("card-subtitle mb-1 text-wrap text-muted",e.className),children:e.children})})})}function E(e){var t=Object(S.g)().url,n=new Date(e.appointment.startTime),c=new Date(e.appointment.endTime);return Object(m.jsxs)(A.b,{className:"md-banner rounded",children:[Object(m.jsx)(d.e,{children:Object(m.jsxs)(d.g,{children:[Object(m.jsx)(d.a,{className:"col-auto d-none d-md-inline m-3 pr-0",children:Object(m.jsxs)(d.e,{children:[Object(m.jsx)(d.g,{className:"justify-content-center",children:Object(m.jsx)(d.a,{children:Object(m.jsx)("h1",{className:"my-0 display-5 font-weight-bold text-center",children:Object(m.jsx)(u.b,{date:n})})})}),Object(m.jsx)(d.g,{className:"justify-content-center",children:Object(m.jsx)(d.a,{children:Object(m.jsx)("h4",{className:"my-0 font-weight-bold text-center",children:Object(m.jsx)(u.d,{date:n,format:"short"})})})})]})}),Object(m.jsxs)(d.a,{className:"px-0",children:[Object(m.jsxs)(A.e,{className:"d-flex flex-row flex-nowrap py-1 justify-content-between",children:[Object(m.jsx)(P,{children:Object(m.jsx)(v,{session:e.session,appointment:e.appointment})}),Object(m.jsx)(f,{session:e.session,appointment:e.appointment,handleStatus:e.handleStatus,handleDelete:e.handleDelete})]}),Object(m.jsxs)(A.c,{className:"pt-0",children:[Object(m.jsx)(z,{children:Object(m.jsx)(w,{appointment:e.appointment})}),Object(m.jsxs)(z,{children:[Object(m.jsx)(u.c,{date:n,hour12:!0}),", ",Object(m.jsx)(u.g,{date:n})," - ",Object(m.jsx)(u.c,{date:c,hour12:!0}),", ",Object(m.jsx)(u.g,{date:c})]}),Object(m.jsx)(d.g,{children:Object(m.jsx)(d.a,{className:"mb-1",children:Object(m.jsx)(y,{status:e.appointment.status})})})]})]})]})}),Object(m.jsx)(A.d,{className:"p-2",children:Object(m.jsxs)(T.b,{children:[Object(m.jsx)(T.a,{path:"".concat(t),exact:!0,title:"Information"}),Object(m.jsx)(T.a,{path:"".concat(t,"/medications"),title:"Medications"}),Object(m.jsx)(T.a,{path:"".concat(t,"/notes"),title:"Notes"}),Object(m.jsx)(T.a,{path:"".concat(t,"/reports"),title:"Reports"}),Object(m.jsx)(T.a,{path:"".concat(t,"/payments"),title:"Payments"})]})})]})}var L=Object(l.lazy)((function(){return n.e(25).then(n.bind(null,137))})),F=Object(l.lazy)((function(){return n.e(17).then(n.bind(null,143))})),q=Object(l.lazy)((function(){return n.e(20).then(n.bind(null,144))})),I=Object(l.lazy)((function(){return n.e(18).then(n.bind(null,145))})),R=Object(l.lazy)((function(){return n.e(19).then(n.bind(null,141))}));function _(e){var t=Object(S.g)().path,n=[{path:"".concat(t),exact:!0,component:L},{path:"".concat(t,"/medications"),component:F},{path:"".concat(t,"/reports"),component:q},{path:"".concat(t,"/notes"),component:I},{path:"".concat(t,"/payments"),component:R,componentProps:{updatePayment:e.updatePayment}}];if(e.isLoading)return Object(m.jsx)(j.b,{isLoading:!0});var a=!1;return"Accepted"!==e.appointment.status&&"Done"!==e.appointment.status||(a=!0),Object(m.jsxs)(d.e,{className:"md-appt px-0",children:[Object(m.jsx)(D.d,{title:e.appointment.title,children:Object(m.jsx)(D.b,{children:a&&Object(m.jsx)(D.a,{path:"/chats/".concat(e.appointment.chatId),title:"Chat",icon:"chat"})})}),Object(m.jsx)(C.m,{children:Object(m.jsx)(d.a,{children:Object(m.jsx)(E,{session:e.session,appointment:e.appointment,handleStatus:e.handleStatus,handleDelete:e.handleDelete})})}),Object(m.jsx)(C.m,{children:Object(m.jsx)(d.a,{children:Object(m.jsx)(l.Suspense,{fallback:Object(m.jsx)(j.b,{isLoading:!0}),children:Object(m.jsx)(S.d,{children:n.map((function(t,n){return Object(m.jsx)(S.b,{path:t.path,exact:t.exact,children:function(n){return Object(m.jsx)(t.component,Object(c.a)(Object(c.a)({},n),{},{session:e.session,appointment:e.appointment},t.componentProps))}},n)}))})})})})]})}function J(e){var t=Object(l.useState)(!0),n=Object(i.a)(t,2),a=n[0],o=n[1],d=Object(l.useState)({}),u=Object(i.a)(d,2),j=u[0],b=u[1];function p(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(s.a.mark((function t(n){var a,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,a=n.currentTarget.value,t.next=5,fetch("/api/appointments/".concat(e.id),{method:"PUT",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)},body:JSON.stringify({status:a})});case 5:return r=t.sent,t.next=8,r.json();case 8:if(i=t.sent,r.ok){t.next=11;break}throw new Error(i.message);case 11:b((function(e){return Object(c.a)(Object(c.a)({},e),{},{status:a})})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.error("Failed to update status for appointment- ".concat(e.id,". ").concat(t.t0));case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(s.a.mark((function t(n){var c,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,fetch("/api/appointments/".concat(e.id),{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)}});case 4:return c=t.sent,t.next=7,c.json();case 7:if(a=t.sent,c.ok){t.next=10;break}throw new Error(a.message);case 10:if(!e.deleteAppointment){t.next=13;break}return t.next=13,e.deleteAppointment(e.id);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log("Failed to delete appointment- ".concat(e.id,". ").concat(t.t0));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}function f(){return(f=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(Object(c.a)(Object(c.a)({},j),{},{paymentBalance:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){function t(){return(t=Object(r.a)(s.a.mark((function t(){var n,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),t.next=4,fetch("/api/appointments/".concat(e.id),{headers:{Authorization:"Bearer ".concat(e.session.authToken)}});case 4:return n=t.sent,t.next=7,n.json();case 7:if(c=t.sent,n.ok){t.next=10;break}throw new Error(c.message);case 10:b(c),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("Failed to get appointment information- ".concat(e.id,". ").concat(t.t0));case 16:return t.prev=16,o(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,13,16,19]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.id,e.session]),e.listView?Object(m.jsx)(k,{isLoading:a,session:e.session,appointment:j,handleStatus:p,handleDelete:O}):Object(m.jsx)(_,{isLoading:a,session:e.session,appointment:j,handleStatus:p,handleDelete:O,updatePayment:function(e){return f.apply(this,arguments)}})}}}]);
//# sourceMappingURL=0.c84c8807.chunk.js.map